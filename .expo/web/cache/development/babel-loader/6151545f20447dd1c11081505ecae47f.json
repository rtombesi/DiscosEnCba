{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Proyecto discos-cba\\\\app\\\\screens\\\\Vinilos\\\\Vinilo.js\";\nimport React, { useState, useCallback } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Loading from \"../../components/Loading\";\nimport Carousel from \"../../components/Carousel\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport { Rating } from \"react-native-elements\";\nimport ListReviews from \"../../components/Vinilos/ListReviews\";\nimport { firebaseApp } from \"../../utils/firebase\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nvar db = firebase.firestore(firebaseApp);\nvar screenWidth = Dimensions.get(\"window\").width;\nexport default function Vinilo(props) {\n  var navigation = props.navigation,\n      route = props.route;\n  var _route$params = route.params,\n      id = _route$params.id,\n      name = _route$params.name;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      vinilo = _useState2[0],\n      setVinilo = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rating = _useState4[0],\n      setRating = _useState4[1];\n\n  navigation.setOptions({\n    title: name\n  });\n  useFocusEffect(useCallback(function () {\n    db.collection(\"vinilos\").doc(id).get().then(function (response) {\n      var data = response.data();\n      data.id = response.id;\n      setVinilo(data);\n      setRating(data.rating);\n    });\n  }, []));\n  if (!vinilo) return React.createElement(Loading, {\n    isVisible: true,\n    text: \"Cargando...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 23\n    }\n  });\n  return React.createElement(ScrollView, {\n    style: styles.viewBody,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, React.createElement(Carousel, {\n    arrayImages: vinilo.images,\n    height: 250,\n    width: screenWidth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), React.createElement(TitleVinilo, {\n    name: vinilo.name,\n    author: vinilo.author,\n    description: vinilo.description,\n    rating: rating,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), React.createElement(ListReviews, {\n    navigation: navigation,\n    idVinilo: vinilo.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction TitleVinilo(props) {\n  var name = props.name,\n      author = props.author,\n      description = props.description,\n      rating = props.rating;\n  return React.createElement(View, {\n    style: styles.viewViniloTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.nameVinilo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, name), React.createElement(Rating, {\n    style: styles.rating,\n    imageSize: 20,\n    readonly: true,\n    startingValue: parseFloat(rating),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  })), React.createElement(Text, {\n    style: styles.authorVinilo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, author), React.createElement(Text, {\n    style: styles.descriptionVinilo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, description));\n}\n\nvar styles = StyleSheet.create({\n  viewBody: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  viewViniloTitle: {\n    padding: 15\n  },\n  nameVinilo: {\n    fontSize: 25,\n    fontWeight: \"bold\"\n  },\n  authorVinilo: {\n    fontSize: 20,\n    fontWeight: \"normal\"\n  },\n  descriptionVinilo: {\n    marginTop: 5,\n    color: \"grey\",\n    fontSize: 15\n  },\n  rating: {\n    position: \"absolute\",\n    right: 0\n  }\n});","map":{"version":3,"sources":["D:/Proyecto discos-cba/app/screens/Vinilos/Vinilo.js"],"names":["React","useState","useCallback","Loading","Carousel","useFocusEffect","Rating","ListReviews","firebaseApp","firebase","db","firestore","screenWidth","Dimensions","get","width","Vinilo","props","navigation","route","params","id","name","vinilo","setVinilo","rating","setRating","setOptions","title","collection","doc","then","response","data","styles","viewBody","images","author","description","TitleVinilo","viewViniloTitle","flexDirection","nameVinilo","parseFloat","authorVinilo","descriptionVinilo","StyleSheet","create","flex","backgroundColor","padding","fontSize","fontWeight","marginTop","color","position","right"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,QAA6C,OAA7C;;;;;;AAEA,OAAOC,OAAP;AACA,OAAOC,QAAP;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,OAAOC,WAAP;AAEA,SAASC,WAAT;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,oBAAP;AAEA,IAAMC,EAAE,GAAGD,QAAQ,CAACE,SAAT,CAAmBH,WAAnB,CAAX;AACA,IAAMI,WAAW,GAAGC,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBC,KAA7C;AAEA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;AAAA,MAC5BC,UAD4B,GACND,KADM,CAC5BC,UAD4B;AAAA,MAChBC,KADgB,GACNF,KADM,CAChBE,KADgB;AAAA,sBAEfA,KAAK,CAACC,MAFS;AAAA,MAE5BC,EAF4B,iBAE5BA,EAF4B;AAAA,MAExBC,IAFwB,iBAExBA,IAFwB;;AAAA,kBAGRrB,QAAQ,CAAC,IAAD,CAHA;AAAA;AAAA,MAG7BsB,MAH6B;AAAA,MAGrBC,SAHqB;;AAAA,mBAIRvB,QAAQ,CAAC,CAAD,CAJA;AAAA;AAAA,MAI7BwB,MAJ6B;AAAA,MAIrBC,SAJqB;;AAMpCR,EAAAA,UAAU,CAACS,UAAX,CAAsB;AAAEC,IAAAA,KAAK,EAAEN;AAAT,GAAtB;AAEAjB,EAAAA,cAAc,CACZH,WAAW,CAAC,YAAM;AAChBQ,IAAAA,EAAE,CAACmB,UAAH,CAAc,SAAd,EACGC,GADH,CACOT,EADP,EAEGP,GAFH,GAGGiB,IAHH,CAGQ,UAACC,QAAD,EAAc;AAClB,UAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAT,EAAb;AACAA,MAAAA,IAAI,CAACZ,EAAL,GAAUW,QAAQ,CAACX,EAAnB;AACAG,MAAAA,SAAS,CAACS,IAAD,CAAT;AACAP,MAAAA,SAAS,CAACO,IAAI,CAACR,MAAN,CAAT;AACD,KARH;AASD,GAVU,EAUR,EAVQ,CADC,CAAd;AAcA,MAAI,CAACF,MAAL,EAAa,OAAO,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAE,IAApB;AAA0B,IAAA,IAAI,EAAC,aAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AAEb,SACE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAEW,MAAM,CAACC,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAU,IAAA,WAAW,EAAEZ,MAAM,CAACa,MAA9B;AAAsC,IAAA,MAAM,EAAE,GAA9C;AAAmD,IAAA,KAAK,EAAExB,WAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,WAAD;AACE,IAAA,IAAI,EAAEW,MAAM,CAACD,IADf;AAEE,IAAA,MAAM,EAAEC,MAAM,CAACc,MAFjB;AAGE,IAAA,WAAW,EAAEd,MAAM,CAACe,WAHtB;AAIE,IAAA,MAAM,EAAEb,MAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAQE,oBAAC,WAAD;AAAa,IAAA,UAAU,EAAEP,UAAzB;AAAqC,IAAA,QAAQ,EAAEK,MAAM,CAACF,EAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF;AAYD;;AAED,SAASkB,WAAT,CAAqBtB,KAArB,EAA4B;AAAA,MAClBK,IADkB,GACoBL,KADpB,CAClBK,IADkB;AAAA,MACZe,MADY,GACoBpB,KADpB,CACZoB,MADY;AAAA,MACJC,WADI,GACoBrB,KADpB,CACJqB,WADI;AAAA,MACSb,MADT,GACoBR,KADpB,CACSQ,MADT;AAG1B,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAES,MAAM,CAACM,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,aAAa,EAAE;AAAjB,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEP,MAAM,CAACQ,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiCpB,IAAjC,CADF,EAEE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAEY,MAAM,CAACT,MADhB;AAEE,IAAA,SAAS,EAAE,EAFb;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,aAAa,EAAEkB,UAAU,CAAClB,MAAD,CAJ3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAUE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAES,MAAM,CAACU,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmCP,MAAnC,CAVF,EAWE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEH,MAAM,CAACW,iBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwCP,WAAxC,CAXF,CADF;AAeD;;AAED,IAAMJ,MAAM,GAAGY,UAAU,CAACC,MAAX,CAAkB;AAC/BZ,EAAAA,QAAQ,EAAE;AACRa,IAAAA,IAAI,EAAE,CADE;AAERC,IAAAA,eAAe,EAAE;AAFT,GADqB;AAK/BT,EAAAA,eAAe,EAAE;AACfU,IAAAA,OAAO,EAAE;AADM,GALc;AAQ/BR,EAAAA,UAAU,EAAE;AACVS,IAAAA,QAAQ,EAAE,EADA;AAEVC,IAAAA,UAAU,EAAE;AAFF,GARmB;AAY/BR,EAAAA,YAAY,EAAE;AACZO,IAAAA,QAAQ,EAAE,EADE;AAEZC,IAAAA,UAAU,EAAE;AAFA,GAZiB;AAgB/BP,EAAAA,iBAAiB,EAAE;AACjBQ,IAAAA,SAAS,EAAE,CADM;AAEjBC,IAAAA,KAAK,EAAE,MAFU;AAGjBH,IAAAA,QAAQ,EAAE;AAHO,GAhBY;AAqB/B1B,EAAAA,MAAM,EAAE;AACN8B,IAAAA,QAAQ,EAAE,UADJ;AAENC,IAAAA,KAAK,EAAE;AAFD;AArBuB,CAAlB,CAAf","sourcesContent":["import React, { useState, useCallback } from \"react\";\r\nimport { StyleSheet, Text, View, ScrollView, Dimensions } from \"react-native\";\r\nimport Loading from \"../../components/Loading\";\r\nimport Carousel from \"../../components/Carousel\";\r\nimport { useFocusEffect } from \"@react-navigation/native\";\r\nimport { Rating } from \"react-native-elements\";\r\nimport ListReviews from \"../../components/Vinilos/ListReviews\";\r\n\r\nimport { firebaseApp } from \"../../utils/firebase\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\n\r\nconst db = firebase.firestore(firebaseApp);\r\nconst screenWidth = Dimensions.get(\"window\").width;\r\n\r\nexport default function Vinilo(props) {\r\n  const { navigation, route } = props;\r\n  const { id, name } = route.params;\r\n  const [vinilo, setVinilo] = useState(null);\r\n  const [rating, setRating] = useState(0);\r\n\r\n  navigation.setOptions({ title: name });\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      db.collection(\"vinilos\")\r\n        .doc(id)\r\n        .get()\r\n        .then((response) => {\r\n          const data = response.data();\r\n          data.id = response.id;\r\n          setVinilo(data);\r\n          setRating(data.rating);\r\n        });\r\n    }, [])\r\n  );\r\n\r\n  if (!vinilo) return <Loading isVisible={true} text=\"Cargando...\" />;\r\n\r\n  return (\r\n    <ScrollView style={styles.viewBody}>\r\n      <Carousel arrayImages={vinilo.images} height={250} width={screenWidth} />\r\n      <TitleVinilo\r\n        name={vinilo.name}\r\n        author={vinilo.author}\r\n        description={vinilo.description}\r\n        rating={rating}\r\n      />\r\n      <ListReviews navigation={navigation} idVinilo={vinilo.id} />\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nfunction TitleVinilo(props) {\r\n  const { name, author, description, rating } = props;\r\n\r\n  return (\r\n    <View style={styles.viewViniloTitle}>\r\n      <View style={{ flexDirection: \"row\" }}>\r\n        <Text style={styles.nameVinilo}>{name}</Text>\r\n        <Rating\r\n          style={styles.rating}\r\n          imageSize={20}\r\n          readonly\r\n          startingValue={parseFloat(rating)}\r\n        />\r\n      </View>\r\n      <Text style={styles.authorVinilo}>{author}</Text>\r\n      <Text style={styles.descriptionVinilo}>{description}</Text>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  viewBody: {\r\n    flex: 1,\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  viewViniloTitle: {\r\n    padding: 15,\r\n  },\r\n  nameVinilo: {\r\n    fontSize: 25,\r\n    fontWeight: \"bold\",\r\n  },\r\n  authorVinilo: {\r\n    fontSize: 20,\r\n    fontWeight: \"normal\",\r\n  },\r\n  descriptionVinilo: {\r\n    marginTop: 5,\r\n    color: \"grey\",\r\n    fontSize: 15,\r\n  },\r\n  rating: {\r\n    position: \"absolute\",\r\n    right: 0,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}