{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Proyecto discos-cba\\\\app\\\\screens\\\\Cds\\\\Cd.js\";\nimport React, { useState, useCallback } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Loading from \"../../components/Loading\";\nimport Carousel from \"../../components/Carousel\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport { Rating } from \"react-native-elements\";\nimport ListReviewsCds from \"../../components/Cds/ListReviewsCds\";\nimport { firebaseApp } from \"../../utils/firebase\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nvar db = firebase.firestore(firebaseApp);\nvar screenWidth = Dimensions.get(\"window\").width;\nexport default function Cd(props) {\n  var navigation = props.navigation,\n      route = props.route;\n  var _route$params = route.params,\n      id = _route$params.id,\n      name = _route$params.name;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      cd = _useState2[0],\n      setCd = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rating = _useState4[0],\n      setRating = _useState4[1];\n\n  navigation.setOptions({\n    title: name\n  });\n  useFocusEffect(useCallback(function () {\n    db.collection(\"cds\").doc(id).get().then(function (response) {\n      var data = response.data();\n      data.id = response.id;\n      setCd(data);\n      setRating(data.rating);\n    });\n  }, []));\n  if (!cd) return React.createElement(Loading, {\n    isVisible: true,\n    text: \"Cargando...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 19\n    }\n  });\n  return React.createElement(ScrollView, {\n    style: styles.viewBody,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, React.createElement(Carousel, {\n    arrayImages: cd.images,\n    height: 250,\n    width: screenWidth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), React.createElement(TitleCd, {\n    name: cd.name,\n    author: cd.author,\n    description: cd.description,\n    rating: rating,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), React.createElement(ListReviewsCds, {\n    navigation: navigation,\n    idCd: cd.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction TitleCd(props) {\n  var name = props.name,\n      author = props.author,\n      description = props.description,\n      rating = props.rating;\n  return React.createElement(View, {\n    style: styles.viewCdTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.nameCd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, name), React.createElement(Rating, {\n    style: styles.rating,\n    imageSize: 20,\n    readonly: true,\n    startingValue: parseFloat(rating),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  })), React.createElement(Text, {\n    style: styles.authorCd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, author), React.createElement(Text, {\n    style: styles.descriptionCd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, description));\n}\n\nvar styles = StyleSheet.create({\n  viewBody: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  viewCdTitle: {\n    padding: 15\n  },\n  nameCd: {\n    fontSize: 25,\n    fontWeight: \"bold\"\n  },\n  authorCd: {\n    fontSize: 20,\n    fontWeight: \"normal\"\n  },\n  descriptionCd: {\n    marginTop: 5,\n    color: \"grey\",\n    fontSize: 15\n  },\n  rating: {\n    position: \"absolute\",\n    right: 0\n  }\n});","map":{"version":3,"sources":["D:/Proyecto discos-cba/app/screens/Cds/Cd.js"],"names":["React","useState","useCallback","Loading","Carousel","useFocusEffect","Rating","ListReviewsCds","firebaseApp","firebase","db","firestore","screenWidth","Dimensions","get","width","Cd","props","navigation","route","params","id","name","cd","setCd","rating","setRating","setOptions","title","collection","doc","then","response","data","styles","viewBody","images","author","description","TitleCd","viewCdTitle","flexDirection","nameCd","parseFloat","authorCd","descriptionCd","StyleSheet","create","flex","backgroundColor","padding","fontSize","fontWeight","marginTop","color","position","right"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from \"react\";\r\nimport { StyleSheet, Text, View, ScrollView, Dimensions } from \"react-native\";\r\nimport Loading from \"../../components/Loading\";\r\nimport Carousel from \"../../components/Carousel\";\r\nimport { useFocusEffect } from \"@react-navigation/native\";\r\nimport { Rating } from \"react-native-elements\";\r\nimport ListReviewsCds from \"../../components/Cds/ListReviewsCds\";\r\n\r\nimport { firebaseApp } from \"../../utils/firebase\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\n\r\nconst db = firebase.firestore(firebaseApp);\r\nconst screenWidth = Dimensions.get(\"window\").width;\r\n\r\nexport default function Cd(props) {\r\n  const { navigation, route } = props;\r\n  const { id, name } = route.params;\r\n  const [cd, setCd] = useState(null);\r\n  const [rating, setRating] = useState(0);\r\n\r\n  navigation.setOptions({ title: name });\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      db.collection(\"cds\")\r\n        .doc(id)\r\n        .get()\r\n        .then((response) => {\r\n          const data = response.data();\r\n          data.id = response.id;\r\n          setCd(data);\r\n          setRating(data.rating);\r\n        });\r\n    }, [])\r\n  );\r\n\r\n  if (!cd) return <Loading isVisible={true} text=\"Cargando...\" />;\r\n\r\n  return (\r\n    <ScrollView style={styles.viewBody}>\r\n      <Carousel arrayImages={cd.images} height={250} width={screenWidth} />\r\n      <TitleCd\r\n        name={cd.name}\r\n        author={cd.author}\r\n        description={cd.description}\r\n        rating={rating}\r\n      />\r\n      <ListReviewsCds navigation={navigation} idCd={cd.id} />\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nfunction TitleCd(props) {\r\n  const { name, author, description, rating } = props;\r\n\r\n  return (\r\n    <View style={styles.viewCdTitle}>\r\n      <View style={{ flexDirection: \"row\" }}>\r\n        <Text style={styles.nameCd}>{name}</Text>\r\n        <Rating\r\n          style={styles.rating}\r\n          imageSize={20}\r\n          readonly\r\n          startingValue={parseFloat(rating)}\r\n        />\r\n      </View>\r\n      <Text style={styles.authorCd}>{author}</Text>\r\n      <Text style={styles.descriptionCd}>{description}</Text>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  viewBody: {\r\n    flex: 1,\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  viewCdTitle: {\r\n    padding: 15,\r\n  },\r\n  nameCd: {\r\n    fontSize: 25,\r\n    fontWeight: \"bold\",\r\n  },\r\n  authorCd: {\r\n    fontSize: 20,\r\n    fontWeight: \"normal\",\r\n  },\r\n  descriptionCd: {\r\n    marginTop: 5,\r\n    color: \"grey\",\r\n    fontSize: 15,\r\n  },\r\n  rating: {\r\n    position: \"absolute\",\r\n    right: 0,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}