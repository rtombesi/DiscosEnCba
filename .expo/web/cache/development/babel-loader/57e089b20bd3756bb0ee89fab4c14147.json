{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Proyecto discos-cba\\\\app\\\\screens\\\\Search.js\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { SearchBar, ListItem, Icon } from \"react-native-elements\";\nimport { FireSQL } from \"firesql\";\nimport firebase from \"firebase/app\";\nimport { assert } from \"firesql/utils\";\nvar fireSQL = new FireSQL(firebase.firestore(), {\n  includeId: \"id\"\n});\nexport default function Search(props) {\n  var navigation = props.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      vinilos = _useState4[0],\n      setVinilos = _useState4[1];\n\n  useEffect(function () {\n    if (search) {\n      fireSQL.query(\"SELECT * FROM vinilos WHERE name LIKE '\" + search + \"%'\").then(function (response) {\n        setVinilos(response);\n      });\n    }\n  }, [search]);\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, React.createElement(SearchBar, {\n    placeholder: \"Busca por nombre del Vinilo o Cd...\",\n    onChangeText: function onChangeText(e) {\n      return setSearch(e);\n    },\n    value: search,\n    containerStyle: styles.searchBar,\n    inputContainerStyle: styles.inputContainerSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }), vinilos.length === 0 ? React.createElement(NoFoundVinilos, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }) : React.createElement(FlatList, {\n    data: vinilos,\n    renderItem: function renderItem(vinilo) {\n      return React.createElement(Vinilos, {\n        vinilo: vinilo,\n        navigation: navigation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }));\n}\n\nfunction NoFoundVinilos() {\n  return React.createElement(View, {\n    style: styles.notFoundVinilos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/img/no-result.png\"),\n    resizeMode: \"contain\",\n    style: {\n      width: 300,\n      height: 200\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Vinilos(props) {\n  var vinilo = props.vinilo,\n      navigation = props.navigation;\n  var _vinilo$item = vinilo.item,\n      id = _vinilo$item.id,\n      name = _vinilo$item.name,\n      images = _vinilo$item.images;\n  return React.createElement(ListItem, {\n    title: name,\n    leftAvatar: {\n      source: images[0] ? {\n        uri: images[0]\n      } : require(\"../../assets/img/no-image.png\")\n    },\n    rightIcon: React.createElement(Icon, {\n      type: \"material-community\",\n      name: \"chevron-right\",\n      color: \"#ea4d14fa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }),\n    onPress: function onPress() {\n      return navigation.navigate(\"vinilos\", {\n        screen: \"vinilo\",\n        params: {\n          id: id,\n          name: name\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  });\n}\n\nvar styles = StyleSheet.create({\n  searchBar: {\n    marginBottom: 25,\n    backgroundColor: \"#ea4d14fa\"\n  },\n  inputContainerSearch: {\n    backgroundColor: \"white\"\n  },\n  notFoundVinilos: {\n    flex: 1,\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"sources":["D:/Proyecto discos-cba/app/screens/Search.js"],"names":["React","useState","useEffect","SearchBar","ListItem","Icon","FireSQL","firebase","assert","fireSQL","firestore","includeId","Search","props","navigation","search","setSearch","vinilos","setVinilos","query","then","response","e","styles","searchBar","inputContainerSearch","length","vinilo","item","index","toString","NoFoundVinilos","notFoundVinilos","require","width","height","Vinilos","id","name","images","source","uri","navigate","screen","params","StyleSheet","create","marginBottom","backgroundColor","flex","alignItems"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { StyleSheet, View, Text, FlatList, Image } from \"react-native\";\r\nimport { SearchBar, ListItem, Icon } from \"react-native-elements\";\r\nimport { FireSQL } from \"firesql\";\r\nimport firebase from \"firebase/app\";\r\nimport { assert } from \"firesql/utils\";\r\n\r\nconst fireSQL = new FireSQL(firebase.firestore(), { includeId: \"id\" });\r\n\r\nexport default function Search(props) {\r\n  const { navigation } = props;\r\n  const [search, setSearch] = useState(\"\");\r\n  const [vinilos, setVinilos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (search) {\r\n      fireSQL\r\n        .query(`SELECT * FROM vinilos WHERE name LIKE '${search}%'`)\r\n        .then((response) => {\r\n          setVinilos(response);\r\n        });\r\n    }\r\n  }, [search]);\r\n\r\n  return (\r\n    <View>\r\n      <SearchBar\r\n        placeholder=\"Busca por nombre del Vinilo o Cd...\"\r\n        onChangeText={(e) => setSearch(e)}\r\n        value={search}\r\n        containerStyle={styles.searchBar}\r\n        inputContainerStyle={styles.inputContainerSearch}\r\n      />\r\n      {vinilos.length === 0 ? (\r\n        <NoFoundVinilos />\r\n      ) : (\r\n        <FlatList\r\n          data={vinilos}\r\n          renderItem={(vinilo) => (\r\n            <Vinilos vinilo={vinilo} navigation={navigation} />\r\n          )}\r\n          keyExtractor={(item, index) => index.toString()}\r\n        />\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\nfunction NoFoundVinilos() {\r\n  return (\r\n    <View style={styles.notFoundVinilos}>\r\n      <Image\r\n        source={require(\"../../assets/img/no-result.png\")}\r\n        resizeMode=\"contain\"\r\n        style={{ width: 300, height: 200 }}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nfunction Vinilos(props) {\r\n  const { vinilo, navigation } = props;\r\n  const { id, name, images } = vinilo.item;\r\n\r\n  return (\r\n    <ListItem\r\n      title={name}\r\n      leftAvatar={{\r\n        source: images[0]\r\n          ? { uri: images[0] }\r\n          : require(\"../../assets/img/no-image.png\"),\r\n      }}\r\n      rightIcon={\r\n        <Icon\r\n          type=\"material-community\"\r\n          name=\"chevron-right\"\r\n          color=\"#ea4d14fa\"\r\n        />\r\n      }\r\n      onPress={() =>\r\n        navigation.navigate(\"vinilos\", {\r\n          screen: \"vinilo\",\r\n          params: { id, name },\r\n        })\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  searchBar: {\r\n    marginBottom: 25,\r\n    backgroundColor: \"#ea4d14fa\",\r\n  },\r\n  inputContainerSearch: {\r\n    backgroundColor: \"white\",\r\n  },\r\n  notFoundVinilos: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}